import dotenv from "dotenv";
import Product from "../models/productModel.js";
import connectDB from "../config/db.js";

dotenv.config();

connectDB();

const barcodes = [
    '0b447106b880d371df1c6c9abfc3b08d',
    '7290002787822',
    '3451790550324',
    '3173990026545',
    '3523230032353',
    '16000423541',
    '20188012077',
    '3178040682771',
    '3501940785004',
    '25675121447',
    '3414204200949',
    '4009900487283',
    '7290015039482',
    '5000204658064',
    '3046920028004',
    '3600540308603',
    '7290003319084',
    '7290011239404',
    '3065620010126',
    '7616500629929',
    '51141239590',
    '7616500553705',
    '4015600763299',
    '8008620003731',
    '7617400090178',
    '7617400098402',
    '34000124138',
    '8008620052609',
    '7296073081685',
    '8008990002273',
    '28200154507',
    '7616500647268',
    '7290003319121',
    '5411281724298',
    '7290015150057',
    '5998749106136',
    '7290002331490',
    '7296073006381',
    '4000576020583',
    '8002360091027',
    '3046920028363',
    'f12906a848271eacbf644699eb73d546',
    '7290014720213',
    '5411281724076',
    '7616500553507',
    '4009900420303',
    '7297488099890',
    '7290101489306',
    '7290011235161',
    '3501940787008',
    '4000508037351',
    '40000420729',
    '4009900477932',
    '3046920043489',
    '7290012709036',
    '7617400098372',
    '20188013012',
    '3014260836665',
    '7290011235062',
    '7290101415107',
    '3065620010119',
    '7610400074155',
    '7290000000589',
    '8003653011807',
    '3760057970646',
    '4000576481889',
    '7616500553699',
    '3600521855416',
    '7290106720831',
    '7297488099982',
    '7290106655973',
    '7617400090154',
    '5011007003005',
    '3415581178272',
    '3600541474499',
    '4006067084300',
    '3415581106183',
    '7290014241466',
    '21009131267',
    '4009900405713',
    '7290002013907',
    '7290004030049',
    '3440432015178',
    '7290106525702',
    '7290010965212',
    '3415581165180',
    '4005808562022',
    '7290106657960',
    '34000442652',
    '28200102904',
    '7290000047621',
    '3600522400714',
    '7616500651203',
    '3600540885050',
    '5201100872602',
    '3415581114126',
    '7617400090086',
    '3173990025524',
    '3574660075991',
    '9001616669927',
    '7290000072692',
    '16800204470',
    '7290101410515',
    '3046920017503',
    '7290011235079',
    '25675120518',
    '7296073229391',
    '5411281421401',
    '3501940791005',
    '25675121430',
    '7290002472254',
    '7290004982027',
    '3046920029759',
    '28200101907',
    '27443360034',
    '3065620010225',
    '3054080005384',
    '3574660309928',
    '3440432015185',
    '3760057970608',
    '7290002623021',
       
]

const more_barcodes = [
    '3014260214678',
    '20188012091',
    '3574660620436',
    '85939820',
    '7290003189045',
    '4006508200009',
    '20188081035',
    '3440432015161',
    '3501940786001',
    '3607346373835',
    '3014260022839',
    '502874c9fb1da4d47a33693e11005ead',
    '40000470700',
    '70450020873',
    '7290011235147',
    '7290000060446',
    '7290011235109',
    '7290000060446',

]

const more_more_barcodes = [
    '3e6a6a2b023de69b377408e55d1f0f8e',
    '7290011235048',
    '3e6a6a2b023de69b377408e55d1f0f8e',
    '7290003029792',
    '3067140033852',
    '4008102002867',
    '3501940788005',
    '7290102444922',
    '79f9ef59c14e351ebcc2bcfec478e29c',

]

const deleteProductsBarcode = async () => {

    for (let barcode of more_more_barcodes){
        const product = await Product.find({barcode: barcode})
        try{
            console.log(`Deleted ${product[0].name}`)
            await Product.deleteOne(product[0])
        }
        catch{
            continue
        }

    }
    
    console.log("finish deleting");
};

const deleteProductsWithoutImage = async () => {

        // const products = await Product.find({image: null})

        for (let product of products){
            await Product.deleteOne(product)
            console.log(`Deleted ${product.name}`)
        }
        console.log("finish deleting");
    };

if (process.argv[2] == "-d") {
} else {
    deleteProductsBarcode();
}
